(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shoucang/shoucang"],{"05af":function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a})},"0aa8":function(t,n,e){},"12e7":function(t,n,e){"use strict";e.r(n);var o=e("8900"),a=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=a.a},5652:function(t,n,e){"use strict";e.r(n);var o=e("05af"),a=e("12e7");for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);e("9aa5");var i=e("2877"),u=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=u.exports},8900:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,n,e,o,a,r,i){try{var u=t[r](i),c=u.value}catch(s){return void e(s)}u.done?n(c):Promise.resolve(c).then(o,a)}function i(t){return function(){var n=this,e=arguments;return new Promise(function(o,a){var i=t.apply(n,e);function u(t){r(i,o,a,u,c,"next",t)}function c(t){r(i,o,a,u,c,"throw",t)}u(void 0)})}}var u=function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"e4cb"))},c={components:{uniLoadMore:u},data:function(){return{headerPosition:"fixed",loadingType:"more",goodsList:[],mgoodsList:[],pn:0,count:""}},onShow:function(){if(t.getStorageSync("cbe_token"))this.loadData();else{t.showToast({title:"未登录或无权限",icon:"none"});setTimeout(function(){t.navigateBack({delta:1})},1e3)}},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.loadData()},methods:{loadData:function(){var n=i(o.default.mark(function n(){var e,a,r,i=arguments;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:"add",a=i.length>1?i[1]:void 0,"add"!==e){n.next=8;break}if("nomore"!==this.loadingType){n.next=5;break}return n.abrupt("return");case 5:this.loadingType="loading",n.next=9;break;case 8:this.loadingType="more";case 9:return n.next=11,this.getMyshoucang();case 11:r=n.sent,"refresh"===e&&(this.goodsList=[]),this.goodsList=this.goodsList.concat(r),this.loadingType=this.goodsList.length>this.count?"nomore":"more","refresh"===e&&(1==a?t.hideLoading():t.stopPullDownRefresh());case 16:case"end":return n.stop()}},n,this)}));function e(){return n.apply(this,arguments)}return e}(),getMyshoucang:function(){var n=i(o.default.mark(function n(){var e=this;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,o){t.showLoading({title:"请稍后"}),t.request({url:t.getStorageSync("hostname")+"?action=index/member/myShoucang",data:{pn:e.pn,token:t.getStorageSync("cbe_token")},method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){t.hideLoading(),0==o.data.code?(e.pn=Number(e.pn)+Number(1),e.count=o.data.count,n(o.data.data)):e.loadingType="nomore"},fail:function(t){o("err")}})}));case 1:case"end":return n.stop()}},n,this)}));function e(){return n.apply(this,arguments)}return e}(),tabClick:function(n){this.filterIndex===n&&2!==n||(this.filterIndex=n,this.priceOrder=2===n?1===this.priceOrder?2:1:0,t.pageScrollTo({duration:300,scrollTop:0}),this.loadData("refresh",1),t.showLoading({title:"正在加载"}))},navToDetailPage:function(n){var e=n.id;t.navigateTo({url:"/pages/product/product?id=".concat(e)})},stopPrevent:function(){}}};n.default=c}).call(this,e("543d")["default"])},"9aa5":function(t,n,e){"use strict";var o=e("0aa8"),a=e.n(o);a.a},e2ad:function(t,n,e){"use strict";(function(t){e("7086"),e("921b");o(e("66fd"));var n=o(e("5652"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])}},[["e2ad","common/runtime","common/vendor"]]]);