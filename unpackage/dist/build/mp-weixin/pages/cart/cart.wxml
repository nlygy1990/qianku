<view class="container"><block wx:if="{{!hasLogin||empty===true}}"><view class="empty"><block wx:if="{{hasLogin}}"><view class="empty-tips">您的购物车空空如也<block wx:if="{{hasLogin}}"><navigator class="navigator" url="../index/index" open-type="switchTab">随便逛逛>></navigator></block></view></block><block wx:else><view class="empty-tips">您的购物车空空如也<view data-event-opts="{{[['tap',[['navToLogin',['$event']]]]]}}" class="navigator" bindtap="__e">去登陆>></view></view></block></view></block><block wx:else><view><view class="cart-list"><block wx:for="{{cartList}}" wx:for-item="item" wx:for-index="index" wx:key="id"><block><view class="cangku"><block wx:if="{{item.checked}}"><image class="anniu" src="../../static/cartxuan.png" mode data-event-opts="{{[['tap',[['check',['item',index]]]]]}}" bindtap="__e"></image></block><block wx:if="{{!item.checked}}"><image class="anniu" src="../../static/card_wxuan.png" mode data-event-opts="{{[['tap',[['check',['item',index]]]]]}}" bindtap="__e"></image></block><view>{{item.bondedwh_name}}</view></view><block wx:if="{{item.is_enough===1}}"><view data-event-opts="{{[['tap',[['goProductList',['$0'],[[['cartList','id',item.id,'bondedwh_id']]]]]]]}}" class="youhui" bindtap="__e"><text class="tt">满足</text><text class="tta">{{"满"+item.enough+"减"+item.give+"活动"}}</text><image class="ttr" src="../../static/jiantou-r.png" mode></image><block wx:if="{{item.xenough>0&&item.xgive>0}}"><text class="tta">{{"再凑"+(item.xenough-item.cart_total)+"减"+item.xgive}}</text></block></view></block><block wx:else><view><view data-event-opts="{{[['tap',[['goProductList',['$0'],[[['cartList','id',item.id,'bondedwh_id']]]]]]]}}" class="youhui" bindtap="__e"><text class="tt">满减</text><text class="tta">{{"满"+item.enough+"减"+item.give+"活动"}}</text><image class="ttr" src="../../static/jiantou-r.png" mode></image><text class="ttb">{{"还差￥"+item.spread}}</text></view></view></block><block wx:for="{{item.goods_list}}" wx:for-item="goods_item" wx:for-index="goods_index" wx:key="id"><block><uni-swipe-action vue-id="{{'1-'+index+'-'+goods_index}}" options="{{options2}}" is-opened="{{isOpened}}" auto-close="{{true}}" data-event-opts="{{[['^click',[['delClick',['$0'],[[['cartList','id',item.id],['goods_list','id',goods_item.id,'id']]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="cart-item"><block wx:if="{{goods_item.status==1}}"><view><view class="xuanze"><block wx:if="{{goods_item.checked}}"><image class="anniu" src="../../static/cartxuan.png" mode data-event-opts="{{[['tap',[['check',['goods_item','$0',index],[[['cartList','id',item.id],['goods_list','id',goods_item.id,'id']]]]]]]}}" bindtap="__e"></image></block><block wx:if="{{!goods_item.checked}}"><image class="anniu" src="../../static/card_wxuan.png" mode data-event-opts="{{[['tap',[['check',['goods_item','$0',index],[[['cartList','id',item.id],['goods_list','id',goods_item.id,'id']]]]]]]}}" bindtap="__e"></image></block></view></view></block><view class="image-wrappera"><image src="{{goods_item.image}}" mode="aspectFill"></image></view><view class="item-right"><view data-event-opts="{{[['tap',[['goProduct',['$0'],[[['cartList','id',item.id],['goods_list','id',goods_item.id,'goodsid']]]]]]]}}" class="clamp title" bindtap="__e">{{goods_item.title}}</view><view class="bianhao">{{"产品编号："+goods_item.goodssn}}</view><block wx:if="{{goods_item.attr_val!=''}}"><view class="attr">{{"规格："+goods_item.attr_val}}</view></block><block wx:if="{{goods_item.shuifei>0}}"><view style="width:100%;"><text class="shuis1">不含税</text></view></block><block wx:if="{{goods_item.shuifei<=0}}"><view class="shuis">含税</view></block></view><block wx:if="{{goods_item.status==1}}"><view><view class="price">{{"￥ "+goods_item.price}}</view></view></block><view class="jiajian"><block wx:if="{{goods_item.status==1}}"><view><uni-number-box class="step" vue-id="{{('2-'+index+'-'+goods_index)+','+('1-'+index+'-'+goods_index)}}" min="{{goods_item.minbuy}}" max="{{goods_item.maxbuy<goods_item.stock?goods_item.maxbuy:goods_item.stock}}" value="{{goods_item.number>goods_item.stock?goods_item.stock:goods_item.number}}" isMax="{{goods_item.number>=goods_item.stock?true:false}}" isMin="{{goods_item.number===1?true:false}}" index="{{index}}" goodsindex="{{goods_index}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e" bind:__l="__l"></uni-number-box></view></block><block wx:else><view class="xiajia">该商品已下架</view></block></view></view></uni-swipe-action></block></block></block></block></view><view class="action-section"><view class="checkbox"><image src="{{allChecked?'/static/cartxuan.png':'/static/card_wxuan.png'}}" mode="aspectFit" data-event-opts="{{[['tap',[['check',['all']]]]]}}" bindtap="__e"></image><view data-event-opts="{{[['tap',[['clearCart',[1]]]]]}}" class="{{['clear-btn',(allChecked)?'show':'']}}" bindtap="__e">清空</view><view data-event-opts="{{[['tap',[['clearCart',[2]]]]]}}" class="{{['clear-btn',(!allChecked)?'show':'']}}" bindtap="__e">删除</view></view><view class="total-box"><text class="price">总价：<text>{{"¥"+total}}</text></text><text class="coupon">优惠：<text>{{"-"+(youhui?youhui:'0.00')}}</text>元</text></view><button class="no-border confirm-btn" type="primary" data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" bindtap="__e">去结算</button></view></view></block><view class="xihuan"><view data-event-opts="{{[['tap',[['changpindex',[0]]]]]}}" class="{{[pindex==0?'active':'']}}" bindtap="__e">我的收藏</view><view data-event-opts="{{[['tap',[['changpindex',[1]]]]]}}" class="{{[pindex==1?'active':'']}}" bindtap="__e">我买过的</view></view><view class="clear"></view><view class="hot-floor"><block wx:if="{{pindex==0}}"><scroll-view class="floor-list" scroll-x><view class="scoll-wrapper"><block wx:for="{{favList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goProduct',['$0'],[[['favList','',index,'id']]]]]]]}}" class="floor-item" bindtap="__e"><image src="{{item.thumb}}" mode="aspectFill"></image><view class="titlea">{{item.title}}</view><view class="huodong-box"><block wx:if="{{item.issendfree==1}}"><text>包邮</text></block><block wx:if="{{item.cuxiao==1}}"><text>促销</text></block><block wx:if="{{item.shuifei>0}}"><text>不含税</text></block><block wx:else><text style="display:none;">含税</text></block></view><view class="price-box"><text class="price">{{item.marketprice}}</text></view></view></block></view></scroll-view></block><block wx:if="{{pindex==1}}"><scroll-view class="floor-list" scroll-x><view class="scoll-wrapper"><block wx:for="{{buyList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goProduct',['$0'],[[['buyList','',index,'goodsid']]]]]]]}}" class="floor-item" bindtap="__e"><image src="{{item.thumb}}" mode="aspectFill"></image><view class="titlea">{{item.title}}</view><view class="huodong-box"><block wx:if="{{item.issendfree==1}}"><text>包邮</text></block><block wx:if="{{item.shuifei>0}}"><text>不含税</text></block><block wx:else><text>含税</text></block></view><view class="price-box"><text class="price">{{item.price}}</text></view></view></block></view></scroll-view></block></view></view>