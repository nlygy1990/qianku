(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-bindCn"],{"0eab":function(t,i,n){"use strict";var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"input-content"},[n("v-uni-view",{staticClass:"tishi"},[t._v("温馨提示：一个CN号仅可和一个如新海外购绑定，请仔细填写")]),n("v-uni-view",{staticClass:"input-item"},[n("v-uni-input",{attrs:{type:"text",value:t.cnnumber,placeholder:"请输入CN号","placeholder-style":"color:#cbcbcb",maxlength:"11","data-key":"cnnumber"},on:{input:function(i){i=t.$handleEvent(i),t.inputChangm(i)}}}),1==t.keyong?n("v-uni-view",{staticClass:"uu"},[t._v("√ 可用")]):t._e(),2==t.keyong?n("v-uni-view",{staticClass:"uuu"},[t._v("× 不可用")]):t._e()],1),n("v-uni-view",{staticClass:"input-item"},[n("v-uni-input",{attrs:{type:"text",value:t.cnpwd,placeholder:"请输入CN号密码","placeholder-style":"color:#cbcbcb",maxlength:"11","data-key":"cnpwd",password:t.showPassword},on:{input:function(i){i=t.$handleEvent(i),t.inputChange(i)},blur:function(i){i=t.$handleEvent(i),t.checkcn(i)},confirm:function(i){i=t.$handleEvent(i),t.checkcn(i)}}}),n("v-uni-view",{staticClass:"uni-icon",on:{click:function(i){i=t.$handleEvent(i),t.changePassword(i)}}},[n("v-uni-image",{attrs:{src:t.showPassword?"../../static/yanjing.png":"../../static/yanjingact.png",mode:""}})],1)],1),t.cuowu?n("v-uni-view",{staticClass:"cuowu"},[t._v(t._s(t.cuowu))]):n("v-uni-view",[n("v-uni-view",{staticClass:"tishib"},[t._v(t._s(t.realname))])],1),t.realname?n("v-uni-view",{staticClass:"xieyi"},[n("v-uni-label",{staticClass:"checkbox",on:{click:function(i){i=t.$handleEvent(i),t.changexy(i)}}},[n("v-uni-checkbox",{attrs:{value:"r1",color:"#23A5F0",checked:t.checked}}),n("v-uni-text",[t._v("绑定CN号需同意")])],1),n("v-uni-navigator",{attrs:{url:"xieyi"}},[t._v("《用户协议》")])],1):t._e(),n("v-uni-button",{staticClass:"quxiao",on:{click:function(i){i=t.$handleEvent(i),t.quxiao(i)}}},[t._v("取消")]),n("v-uni-button",{staticClass:"confirm-btn",attrs:{disabled:t.logining},on:{click:function(i){i=t.$handleEvent(i),t.toNext(i)}}},[t._v("绑定")])],1)],1)},a=[];n.d(i,"a",function(){return e}),n.d(i,"b",function(){return a})},"2e39":function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-3c336a1c]{background:#fff}.tishi[data-v-3c336a1c]{width:%?750?%;font-size:%?26?%;color:#37b0c9;text-align:center;background:#f9f9f9;height:%?80?%;line-height:%?80?%;margin-left:%?-30?%\n  /* position: absolute;\n\tleft:0upx; */}.tishia[data-v-3c336a1c]{width:%?690?%;font-size:%?24?%;color:#343434;text-align:left;height:%?80?%;line-height:%?80?%}.cuowu[data-v-3c336a1c]{width:%?690?%;font-size:%?30?%;color:#ff68ad;text-align:left;height:%?80?%;line-height:%?80?%}.tishib[data-v-3c336a1c]{width:%?690?%;font-size:%?30?%;color:#343434;text-align:left;height:%?80?%;line-height:%?80?%}.container[data-v-3c336a1c]{position:relative;width:100vw;height:100vh;overflow:hidden;background:#fff}.wrapper[data-v-3c336a1c]{position:relative;z-index:90;background:#fff;padding-bottom:%?40?%}.input-content[data-v-3c336a1c]{padding:%?40?% %?30?%;position:relative}.input-item[data-v-3c336a1c]{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:%?100?%;border-radius:4px;margin-bottom:%?10?%;border-bottom:%?1?% solid #eaeaea}.input-item[data-v-3c336a1c]:last-child{margin-bottom:0}.input-item .tit[data-v-3c336a1c]{height:%?50?%;line-height:%?56?%;font-size:%?26?%;color:#606266}.input-item uni-input[data-v-3c336a1c]{height:%?50?%;font-size:%?30?%;color:#303133;width:100%}.input-item uni-text[data-v-3c336a1c]{position:absolute;right:%?0?%;font-size:%?30?%;color:#008ab0;border:%?1?% solid #008ab0;padding:%?10?% %?30?%;border-radius:%?50?%;z-index:999}.input-item .canvas-img-code[data-v-3c336a1c]{position:absolute;right:%?120?%;z-index:999}.input-item .canvas-img-code uni-canvas[data-v-3c336a1c]{border:%?1?% solid #eaeaea;background:#eaeaea}.input-item .uni-icon[data-v-3c336a1c]{position:absolute;right:%?20?%;font-size:%?40?%;z-index:999;color:#008ab0}.input-item .uni-icon uni-image[data-v-3c336a1c]{width:%?40?%;height:%?40?%}.input-item .kabuqing[data-v-3c336a1c]{position:absolute;right:0;z-index:999;color:#008ab0;font-size:%?30?%}.input-item .uu[data-v-3c336a1c]{position:absolute;right:0;font-size:%?26?%;color:#08b000}.input-item .uuu[data-v-3c336a1c]{position:absolute;right:0;font-size:%?26?%;color:#b0002f}.quxiao[data-v-3c336a1c]{position:absolute;left:%?30?%;width:%?320?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?70?%;background:#fff;color:#008ab0;font-size:%?32?%;border:%?1?% solid #008ab0}.quxiao[data-v-3c336a1c]:after{border-radius:100px}.confirm-btn[data-v-3c336a1c]{position:absolute;right:%?30?%;width:%?320?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?70?%;background:#008ab0;color:#fff;font-size:%?32?%}.confirm-btn[data-v-3c336a1c]:after{border-radius:100px}.forget-section[data-v-3c336a1c]{font-size:%?30?%;color:#008ab0;text-align:center;margin-top:%?40?%}.forget-section[data-v-3c336a1c] :first-child{float:left;padding-left:%?30?%}.forget-section[data-v-3c336a1c] :last-child{float:right;padding-right:%?30?%}.xieyi[data-v-3c336a1c]{width:%?650?%;margin-top:%?30?%;font-size:%?28?%;color:#999;margin-bottom:%?70?%}.xieyi uni-text[data-v-3c336a1c]{float:left}.xieyi uni-checkbox[data-v-3c336a1c]{float:left}.xieyi uni-navigator[data-v-3c336a1c]{color:#37b0c9;float:left}body.?%PAGE?%[data-v-3c336a1c]{background:#fff}',""])},"5b45":function(t,i,n){"use strict";var e=n("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(n("cebc")),o=n("2f62"),c={data:function(){return{cuowu:"",cnnumber:"",cnpwd:"",logining:!1,showPassword:!0,realname:"",token:"",keyong:0,checked:!1,callback:""}},onLoad:function(t){t.callback&&(this.callback=t.callback)},onShow:function(){var t=uni.getStorageSync("cbe_token");if(t)this.token=t;else{uni.showToast({title:"未登录或无权限",icon:"none"});setTimeout(function(){uni.navigateBack({delta:1})},1e3)}},methods:(0,a.default)({},(0,o.mapMutations)(["bindCn","login"]),{inputChange:function(t){this.cuowu="",this.keyong=0;var i=t.currentTarget.dataset.key;this[i]=t.detail.value},changePassword:function(){this.showPassword=!this.showPassword},changexy:function(){this.checked=!this.checked},quxiao:function(){this.callback?uni.navigateBack({delta:1}):uni.switchTab({url:"../user/user"})},inputChangm:function(t){var i=this;this.cuowu="",this.realname="",this.cnpwd="";var n=t.detail.value;this.cnnumber=n,n.length<=8?this.keyong=0:uni.request({url:uni.getStorageSync("hostname")+"?action=index/login/checkbdcn",data:{cnnumber:n},method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var n=t.data;0==n.code?i.keyong=1:i.keyong=2}})},checkcn:function(){var t=this;return!!this.cnnumber&&(!!this.cnpwd&&void uni.request({url:uni.getStorageSync("hostname")+"?action=index/login/checkcn",data:{cnnumber:this.cnnumber,cnpwd:this.cnpwd},method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(i){var n=i.data;0==n.code?(t.cuowu="",t.realname=n.realname):t.cuowu=n.msg}}))},toNext:function(){var t=this,i=this;return this.logining=!0,this.cnnumber?this.cnpwd?this.checked?(uni.showLoading({title:"正在绑定",mask:!0}),void uni.request({url:uni.getStorageSync("hostname")+"?action=index/login/bindcn",data:{cnnumber:this.cnnumber,cnpwd:this.cnpwd,token:this.token},method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){uni.hideLoading();var e=n.data;if(0==e.code)if(t.cuowu="",uni.showToast({title:e.msg,icon:"success",mask:!0,duration:3e3}),i.callback)setTimeout(function(){uni.navigateBack({delta:1})},2e3);else{t.login(e.data);setTimeout(function(){uni.switchTab({url:"../user/user"})},2e3)}else t.cuowu=e.msg,t.logining=!1}})):(uni.showToast({title:"绑定CN号需同意《用户协议》",icon:"none"}),this.logining=!1,!1):(uni.showToast({title:"请填写CN号密码",icon:"none"}),this.logining=!1,!1):(uni.showToast({title:"请填写CN号",icon:"none"}),this.logining=!1,!1)}})};i.default=c},"872a":function(t,i,n){var e=n("2e39");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("18eca490",e,!0,{sourceMap:!1,shadowMode:!1})},"944f":function(t,i,n){"use strict";n.r(i);var e=n("0eab"),a=n("b8ca");for(var o in a)"default"!==o&&function(t){n.d(i,t,function(){return a[t]})}(o);n("b301");var c=n("2877"),s=Object(c["a"])(a["default"],e["a"],e["b"],!1,null,"3c336a1c",null);i["default"]=s.exports},b301:function(t,i,n){"use strict";var e=n("872a"),a=n.n(e);a.a},b8ca:function(t,i,n){"use strict";n.r(i);var e=n("5b45"),a=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(i,t,function(){return e[t]})}(o);i["default"]=a.a}}]);